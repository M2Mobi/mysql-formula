# DO NOT CHANGE THIS FILE!
# This config is generated by SALTSTACK
# and all change will be overrided on next salt call

{%- from "mysql/defaults.yaml" import rawmap with context -%}
{%- set mysql = salt['grains.filter_by'](rawmap, grain='os', merge=salt['pillar.get']('mysql:lookup')) -%}

{% set aws_kms_master_key_id = salt['pillar.get']('mysql:aws_kms:master_key_id', '') %}
{% set aws_kms_region = salt['pillar.get']('mysql:aws_kms:region', '') %}

[mysqld]
plugin-load-add                  = aws_key_management
aws_key_management_master_key_id = {{ aws_kms_master_key_id }}
aws-key-management-region        = {{ aws_kms_region }}

!include {{ mysql.config_directory + 'enable_encryption.preset' }}
